<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Blog Settings</title>
    <link rel="stylesheet" href="/css/bootstrap.min.css" />
    <link rel="stylesheet" href="/css/author-edit-article.css" />
  </head>
  <div class="container">
    <h1>Author Edit</h1>

    <form action="/author/edit" method="post">
      <!-- If the length of the blogs is zero, show an empty form -->
      <% if (blogs.length === 0) { %>
      <div class="form-group">
        <!-- Form title field -->
        <label for="title">Title</label>
        <input
          type="text"
          name="title"
          class="form-control"
          value=""
          required
        />
        <small class="form-text text-muted"
          >Should not contain numbers or characters
        </small>
      </div>

      <div class="form-group">
        <!-- Form subtitle field -->
        <label for="subtitle">Subtitle</label>
        <input
          type="text"
          name="subtitle"
          class="form-control"
          value=""
          required
        />
        <small class="form-text text-muted"
          >Should not contain numbers or characters
        </small>
      </div>

      <div class="form-group">
        <!-- Form name field -->
        <label for="username">Name</label>
        <input
          type="text"
          name="username"
          class="form-control"
          value=""
          required
        />
        <small class="form-text text-muted"
          >Should not contain numbers or characters
        </small>
      </div>

      <button type="submit" class="btn btn-primary">Submit</button>
      <!-- If the form does contain a blog, fill in the values from the database -->
      <% } else { %> <% blogs.forEach(blog => { %>
      <div class="form-group">
        <!-- Form title field with blog data -->
        <label for="title">Title</label>
        <input
          type="text"
          name="title"
          class="form-control"
          value="<%= blog.title %>"
          required
        />
      </div>

      <div class="form-group">
        <!-- Form subtitle field with blog data-->
        <label for="subtitle">Subtitle</label>
        <input
          type="text"
          name="subtitle"
          class="form-control"
          value="<%= blog.subtitle %>"
          required
        />
      </div>

      <div class="form-group">
        <!-- Form name field with blog data -->
        <label for="username">Name</label>
        <input
          type="text"
          name="username"
          class="form-control"
          value="<%= blog.blog_username %>"
          required
        />
      </div>

      <button type="submit" class="btn btn-primary">Submit</button>
    </form>

    <!-- If there are errors, show them -->
    <% if (errors && errors.length > 0) { %> <% errors.forEach(error => { %>
    <p><%= error.msg %></p>
    <% }) %> <% } %> <% }) %> <% } %>
    <!-- Back button aligned to the top-left corner -->
    <a href="/author" class="btn btn-secondary back-button">Back</a>
  </div>
</html>
